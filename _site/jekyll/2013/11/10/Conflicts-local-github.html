<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Conflicts between viewing site on github and previewing it locally</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script> 

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45812015-1', 'tkcrown.github.io');
      ga('send', 'pageview');

    </script>            


    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">TK_blog</a></h1>
            <a class="extra" href="/">Home</a>
            <a class="extra" href="/notes">Notes</a>
            <a class="extra" href="/cv/cv.pdf">CV</a>
            <a class="extra" href="/hobbies">Hobbies</a>
            <a class="extra" href="/algorithms">Algorithms</a>
            <a class="extra" href="/calendar">Calendar</a>
          </div>

          <h2>Conflicts between viewing site on github and previewing it locally</h2>
<p class="meta">10 Nov 2013</p>

<div class="post">
<p>I decided to distribute a new blog on Github with Jekyll yesterday, because I really like its simple style and I can write locally and push it to github, which is really convenient. During the procedure of configuring my site and writing articles, it is quite inconvenient to commit and push, when we want to test the effect, because some changes may be very tiny. Thus to test my site more efficiently, I have the Jekyll locally installed.</p>

<p>However, the <code>baseurl</code> in _config.yml causes a very annoying problem that makes the site either works well on Github or locally, but cannot work at the same time without changing the codes. Here is a short description of the problem. I donâ€™t have my own domain name for my site, so I have a domain name like <code>username.github.io/your_blog_name/</code>. The problem is that if I want to have the site run on Github, I need to set</p>

<p><code>
baseurl = /your_blog_name
</code></p>

<p>which will make your site fail to run locally. If I set</p>

<p><code>
baseurl = /
</code></p>

<p>the site is ok locally but fails on Github.</p>

<p>The detainls of this problem is quite stated <a href="https://github.com/mojombo/jekyll/issues/332#issuecomment-18952908">here</a>. Thanks to <a href="https://github.com/mjswensen"><strong>mjswensen</strong></a>, we got a solution for this problem. I am going to make a summary and small complements, in case that someone needs it.</p>

<ul>
  <li>First, set  <code>baseurl = /your_blog_name</code> in _config.yml</li>
  <li>Second, for reference to css files, </li>
</ul>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;/css/syntax.css&quot;</span><span class="nt">&gt;</span>
</code></pre></div>

<ul>
  <li>Third, for reference to post files, do it like this</li>
</ul>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
</code></pre></div>

<p>Here please DO NOT put any slash between <code>and</code>. Actually this is because `` contains a slash at the beginning and double slashes would cause problem to the URL.</p>

<ul>
  <li>Forth, if you want to have a home button or something similar, write it as</li>
</ul>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;extra&quot;</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>home<span class="nt">&lt;/a&gt;</span>
</code></pre></div>

<p>If you follow the above instructions, your site will probably run well on Github, but it still fails for local run.</p>

<p>The trick to do the local part is to use the following command</p>

<div class="highlight"><pre><code class="bash">jekyll serve --baseurl <span class="s1">&#39;&#39;</span>
</code></pre></div>

<p>to run your site. This command assigns an empty string as the baseurl temporarily without changing _config.yml file. Problem solved. </p>


</div>

          <div class="footer">
            <div class="contact">
              <p>
                My Github<br />
                E-mail<br />
                LinkedIn
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/tkcrown">github.com/tkcrown</a><br />
                pjin1[[at]]ualberta[dot]ca<br />
                http://www.linkedin.com/pub/ping-jin/3a/a3b/97a
              </p>
            </div>
          </div>



    <!--disqus-->
    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tkcrown'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    



    </body>
</html>
